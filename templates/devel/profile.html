{% extends "base.html" %}
{% load static %}

{% block title %}Arch Linux - Edit Profile{% endblock %}

{% block content %}
<div id="dev-edit-profile" class="box">

    <h2>Developer Profile</h2>

    <form id="edit-profile-form" enctype="multipart/form-data" method="post" action="">{% csrf_token %}
        <p><em>Note:</em> This is the public information shown on the developer
        and/or package maintainer profiles page, so please be appropriate with the information
        you provide here.</p>
        <fieldset>
            <p><label>Username:</label>
            <strong>{{ user.username }}</strong></p>
            {{ form.as_p }}
        </fieldset>
        <fieldset>
            {{ profile_form.as_p }}
        </fieldset>
        <p><label></label> <input title="Save changes" type="submit" value="Save" /></p>
    </form>

    <form id="api-profile-form" enctype="multipart/form-data" method="post" action="">{% csrf_token %}
        <h3>API token</h3>
        <p>Token for completing todolist items with for example, rebuild-todo</p>
        {% if profile.api_token is None %}
        <fieldset>
            <input type="hidden" name="api_token" id="api_token" value="generate">
        </fieldset>
        <p><label></label> <input title="Generate token" type="submit" value="Generate API Token" /></p>
        {% else %}
        <fieldset>
            <label>Token:</label>
            {{ profile.api_token }}
        </fieldset>
        {% endif %}
    </form>
</div>
{% endblock %}
