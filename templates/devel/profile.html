{% extends "base.html" %}
{% load static %}

{% block title %}Arch Linux - Edit Profile{% endblock %}

{% block content %}
<div id="dev-edit-profile" class="box">

    <h2>Developer Profile</h2>

    <form id="edit-profile-form" enctype="multipart/form-data" method="post" action="">{% csrf_token %}
        <p><em>Note:</em> This is the public information shown on the developer
        and/or TU profiles page, so please be appropriate with the information
        you provide here.</p>
        <fieldset>
            <p><label>Username:</label>
            <strong>{{ user.username }}</strong></p>
            {{ form.as_p }}
        </fieldset>
        <fieldset>
            {{ profile_form.as_p }}
        </fieldset>
        <p><label></label> <input title="Save changes" type="submit" value="Save" /></p>
    </form>

</div>
{% endblock %}

{% block script_block %}
<script type="text/javascript" nonce={{ CSP_NONCE }}>
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('id_public_email').setAttribute('type', 'email');
        document.getElementById('id_website').setAttribute('type', 'url');
        document.getElementById('id_yob').setAttribute('pattern', '[0-9]*');
        document.getElementById('id_yob').setAttribute('min', '1950');
        document.getElementById('id_yob').setAttribute('max', '2500');
    });
</script>
{% endblock %}
