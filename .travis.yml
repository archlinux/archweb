language: python
python:
  - "2.7"
cache: pip
install: "pip install -r requirements.txt && pip install coveralls pylint selenium"
sudo: required
addons:
  chrome: stable

before_script:
  - wget https://chromedriver.storage.googleapis.com/2.38/chromedriver_linux64.zip
  - unzip chromedriver_linux64.zip -d /home/travis/virtualenv/python2.7.14/

script:
  - python manage.py collectstatic --noinput
  - PATH=$PATH:/home/travis/virtualenv/python2.7.14/ coverage run --rcfile .coveragerc manage.py test
  - pylint devel main mirrors news packages releng retro templates todolists visualize *.py

after_success:
  - coveralls
